<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 è·¨å¹´é©šå–œå•Ÿå‹•</title>
    <style>
        :root {
            --primary-gold: #ffd700;
            --ny-red: #ff4d6d;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            /* æ·±é‚ƒå¤œç©ºæ¼¸å±¤ */
            background: radial-gradient(circle at center, #1a1a2e 0%, #0f0f1b 100%);
            font-family: "Microsoft JhengHei", sans-serif;
            overflow: hidden;
        }

        /* æ——è‰¦ç‰ˆæŒ‰éˆ•ï¼šå¸¶æœ‰ç™¼å…‰èˆ‡ç¸®æ”¾æ•ˆæœ */
        #giftButton {
            padding: 18px 40px;
            font-size: 24px;
            background: linear-gradient(135deg, var(--ny-red), #c9184a);
            color: white;
            border: 2px solid var(--primary-gold);
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 0 25px rgba(255, 77, 109, 0.6);
            z-index: 10000;
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            font-weight: bold;
            letter-spacing: 2px;
        }
        #giftButton:hover { 
            transform: scale(1.1); 
            box-shadow: 0 0 40px var(--ny-red);
            letter-spacing: 4px;
        }

        /* è¨Šæ¯å¡ç‰‡ï¼šé‡‘å±¬é‚Šæ¡†èˆ‡æ¯›ç»ç’ƒæ•ˆæœ */
        .message {
            position: absolute;
            padding: 15px 25px;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(5px);
            border-radius: 15px;
            box-shadow: 0 8px 20px rgba(0,0,0,0.3), inset 0 0 10px rgba(255, 215, 0, 0.3);
            font-size: 18px;
            color: #1a1a2e;
            white-space: nowrap;
            border: 2px solid var(--primary-gold);
            pointer-events: none;
            opacity: 0;
            transform: scale(0);
            transition: opacity 0.3s, transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .message.show {
            opacity: 1;
            transform: scale(1) rotate(var(--r));
        }

        /* æœ€çµ‚å¤§é©šå–œè¦–çª— */
        #finalMessage {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.7);
            background: rgba(255, 255, 255, 0.98);
            padding: 50px;
            border-radius: 30px;
            box-shadow: 0 0 70px rgba(255, 215, 0, 0.8);
            text-align: center;
            z-index: 20000;
            opacity: 0;
            visibility: hidden;
            transition: all 1.2s cubic-bezier(0.19, 1, 0.22, 1);
            border: 4px double var(--ny-red);
            min-width: 300px;
        }

        #finalMessage.active {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }

        #finalMessage h2 {
            color: #1a1a2e;
            margin: 0;
            font-size: 32px;
            line-height: 1.8;
            font-weight: 900;
        }

        /* æ˜Ÿæ˜Ÿèˆ‡ç²’å­ç‰¹æ•ˆ */
        .star { position: absolute; background: white; border-radius: 50%; opacity: 0; animation: blink 2s infinite; }
        .particle { position: absolute; width: 6px; height: 6px; border-radius: 50%; pointer-events: none; }
        
        @keyframes blink { 0%, 100% { opacity: 0; } 50% { opacity: 0.8; } }
        @keyframes particleExplode {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: translate(var(--dx), var(--dy)) scale(0); opacity: 0; }
        }
    </style>
</head>
<body>

    <button id="giftButton">âœ¨ é–‹å•Ÿ 2026 çš„ç¬¬ä¸€ä»½ç¥ç¦ âœ¨</button>

    <div id="finalMessage">
        <h2 id="finalText"></h2>
    </div>

    <script>
        // ==========================================
        // âš™ï¸ 2026 è·¨å¹´æ——è‰¦ç‰ˆè¨­å®šå€
        // ==========================================
        const CONFIG = {
            totalMessages: 32,      // è¨Šæ¯ç¸½æ•¸
            speedMs: 250,           // å™´ç™¼é–“éš” (æ¯«ç§’)
            typeSpeed: 50,          // æ‰“å­—æ©Ÿé€Ÿåº¦
            // çµå°¾å¤§å­—
            finalTitle: "ğŸ† 2026 æ–°å¹´å¿«æ¨‚ ğŸ†",
            finalText: "é€™ä¸€å¹´æœ‰ä½ ä¸€èµ·åŠªåŠ›ï¼Œ\nçœŸçš„æ˜¯å¾ˆæ£’çš„ä¸€ä»¶äº‹ã€‚\næ–°çš„ä¸€å¹´ï¼Œæˆ‘å€‘ç¹¼çºŒåŠ æ²¹ï¼" 
        };

        const messages = [
            "2025 æ„Ÿè¬æœ‰ä½ é™ªä¼´", "é¡˜ 2026 ä½ çš„ç¬‘å®¹æ›´å¤š", "æ‰€æœ‰çš„ç…©æƒ±éƒ½ç•™åœ¨å»å¹´å§", 
            "æ–°çš„ä¸€å¹´ï¼Œè¬äº‹å‹æ„", "2026 ä¹Ÿè¦ä¸€èµ·ç•¶æ•¸å­¸å¤§ç¥", "ä½ æ˜¯æœ€æ£’çš„æ­æª”", 
            "é¡˜ä½ æ–°çš„ä¸€å¹´é–ƒé–ƒç™¼äº®", "ä¸ç®¡å¹¾å¹´ï¼Œæˆ‘å€‘éƒ½è¦å¥½å¥½çš„", "Happy New Year 2026", 
            "ä»Šå¤©çš„ä½ æ¯”å»å¹´æ›´å„ªç§€", "2026 ä¹Ÿè¦å…ƒæ°£æ»¿æ»¿", "é¡˜ä½ è¢«é€™ä¸–ç•Œæº«æŸ”ä»¥å¾…", 
            "æ–°çš„ä¸€å¹´ï¼Œä¿æŒç†±æ„›", "ä¸è¦å¿˜è¨˜æ„›è‡ªå·±å–”", "æœªä¾†çš„è·¯æˆ‘å€‘ç¹¼çºŒä¸€èµ·èµ°", 
            "æ°æ° 2025ï¼Œä½ å¥½ 2026", "è¦æŠŠå¿ƒæƒ…èª¿æ•´åˆ°å¿«æ¨‚é »é“", "è·¨å¹´å¿«æ¨‚ï¼æˆ‘çš„å¥½æœ‹å‹", 
            "æ–°çš„ä¸€å¹´ï¼Œä½ æ˜¯æœ€é–ƒè€€çš„æ˜Ÿ", "é¡˜ 2026 æ‰€æœ‰çš„é¡˜æœ›éƒ½æˆçœŸ"
        ];
        // ==========================================

        const btn = document.getElementById('giftButton');
        const finalBox = document.getElementById('finalMessage');
        const finalTextEl = document.getElementById('finalText');
        let positions = [];
        let currentZIndex = 100;

        // åˆå§‹åŒ–èƒŒæ™¯æ˜Ÿæ˜Ÿ
        for (let i = 0; i < 60; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            const size = Math.random() * 3 + 'px';
            star.style.width = size; star.style.height = size;
            star.style.left = Math.random() * 100 + 'vw';
            star.style.top = Math.random() * 100 + 'vh';
            star.style.animationDelay = Math.random() * 2 + 's';
            document.body.appendChild(star);
        }

        function createParticles(x, y) {
            const colors = ['#ffd700', '#ff4d6d', '#ffffff', '#ffb3c1'];
            for (let i = 0; i < 12; i++) {
                const p = document.createElement('div');
                p.className = 'particle';
                p.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                p.style.left = x + 'px'; p.style.top = y + 'px';
                const dx = (Math.random() - 0.5) * 200 + 'px';
                const dy = (Math.random() - 0.5) * 200 + 'px';
                p.style.setProperty('--dx', dx);
                p.style.setProperty('--dy', dy);
                p.style.animation = 'particleExplode 0.8s ease-out forwards';
                document.body.appendChild(p);
                setTimeout(() => p.remove(), 800);
            }
        }

        function initGrid() {
            const cols = 6; const rows = 7; 
            const cellW = window.innerWidth / cols;
            const cellH = window.innerHeight / rows;
            for (let i = 0; i < cols; i++) {
                for (let j = 0; j < rows; j++) {
                    positions.push({
                        x: i * cellW + Math.random() * (cellW - 180) + 10,
                        y: j * cellH + Math.random() * (cellH - 60) + 10
                    });
                }
            }
            positions.sort(() => Math.random() - 0.5);
        }

        function typeWriter(element, text, i = 0, callback) {
            if (i < text.length) {
                element.innerHTML += text.charAt(i) === '\n' ? '<br>' : text.charAt(i);
                setTimeout(() => typeWriter(element, text, i + 1, callback), CONFIG.typeSpeed);
            } else if (callback) callback();
        }

        btn.addEventListener('click', () => {
            btn.style.transform = 'scale(0)';
            setTimeout(() => { btn.style.display = 'none'; }, 400);
            initGrid();
            
            let count = 0;
            const interval = setInterval(() => {
                if (count >= CONFIG.totalMessages || count >= positions.length) {
                    clearInterval(interval);
                    setTimeout(showFinalSurprise, 1200);
                    return;
                }
                createPopUp(positions[count]);
                count++;
            }, CONFIG.speedMs);
        });

        function createPopUp(pos) {
            const div = document.createElement('div');
            div.className = 'message';
            const text = messages[Math.floor(Math.random() * messages.length)];
            const rotate = (Math.random() - 0.5) * 25; 
            currentZIndex++; 
            
            div.style.left = pos.x + 'px';
            div.style.top = pos.y + 'px';
            div.style.zIndex = currentZIndex;
            div.style.setProperty('--r', rotate + 'deg');
            
            document.body.appendChild(div);
            setTimeout(() => {
                div.classList.add('show');
                createParticles(pos.x + 80, pos.y + 20); // å½ˆå‡ºæ™‚ç”¢ç”Ÿç²’å­ç…™ç«
            }, 50);
            typeWriter(div, text);
        }

        function showFinalSurprise() {
            finalBox.classList.add('active');
            const title = document.createElement('h1');
            title.style.color = '#ff4d6d';
            title.style.marginBottom = '15px';
            title.innerText = CONFIG.NY_TITLE || "ğŸ† 2026 æ–°å¹´å¿«æ¨‚ ğŸ†";
            finalBox.prepend(title);
            typeWriter(finalTextEl, CONFIG.finalText);
            
            // æœ€å¾Œå¤§å™´ç™¼æ•ˆæœ
            for(let i=0; i<5; i++) {
                setTimeout(() => {
                    createParticles(window.innerWidth/2 + (Math.random()-0.5)*300, window.innerHeight/2 + (Math.random()-0.5)*200);
                }, i * 300);
            }
        }
    </script>
</body>
</html>
