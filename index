<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 æ–°å¹´å¿«æ¨‚ï¼</title>
    <style>
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background: radial-gradient(circle, #2c3e50, #000000); /* æ›æˆæ·±è—å¤œç©ºèƒŒæ™¯ */
            font-family: "Microsoft JhengHei", sans-serif;
            overflow: hidden;
        }

        /* è·¨å¹´æŒ‰éˆ•æ¨£å¼ */
        #giftButton {
            padding: 15px 35px;
            font-size: 22px;
            background: linear-gradient(45deg, #ff4d6d, #ffb3c1);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(255, 77, 109, 0.5);
            z-index: 10000;
            transition: 0.3s;
            font-weight: bold;
        }
        #giftButton:hover { transform: scale(1.1); box-shadow: 0 0 30px #ff4d6d; }

        /* å½ˆå‡ºè¨Šæ¯æ¨£å¼ (åŠ å…¥é‡‘é‚Šæ„Ÿ) */
        .message {
            position: absolute;
            padding: 14px 22px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(255, 215, 0, 0.2); /* é‡‘è‰²é™°å½± */
            font-size: 16px;
            color: #2c3e50;
            white-space: nowrap;
            border: 1.5px solid #ffd700; /* é‡‘è‰²é‚Šæ¡† */
            pointer-events: none;
            opacity: 0;
            transform: scale(0);
            transition: opacity 0.3s, transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .message.show {
            opacity: 1;
            transform: scale(1) rotate(var(--r));
        }

        /* æœ€çµ‚å¤§é©šå–œ */
        #finalMessage {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            background: white;
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 0 50px rgba(255, 215, 0, 0.6);
            text-align: center;
            z-index: 20000;
            opacity: 0;
            visibility: hidden;
            transition: all 1s ease-in-out;
            border: 3px solid #ff4d6d;
        }

        #finalMessage.active {
            opacity: 1;
            visibility: visible;
            transform: translate(-50%, -50%) scale(1);
        }

        #finalMessage h2 {
            color: #ff4d6d;
            margin: 0;
            font-size: 28px;
            line-height: 1.8;
        }

        /* é–ƒçˆæ˜Ÿæ˜Ÿç‰¹æ•ˆ */
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0;
            animation: blink 2s infinite;
        }
        @keyframes blink {
            0%, 100% { opacity: 0; }
            50% { opacity: 0.8; }
        }
    </style>
</head>
<body>

    <button id="giftButton">âœ¨ é»æ“Šè§£é– 2026 çš„ç¬¬ä¸€ä»½é©šå–œ âœ¨</button>

    <div id="finalMessage">
        <h2 id="finalText"></h2>
    </div>

    <script>
        // ==========================================
        // âš™ï¸ è·¨å¹´è¨­å®šå€
        // ==========================================
        const CONFIG = {
            totalMessages: 35,      
            speedMs: 200,           
            typeSpeed: 40,
            finalText: "ğŸ† Happy New Year 2026 ğŸ†\næ–°çš„ä¸€å¹´ï¼Œé¡˜æˆ‘å€‘éƒ½èƒ½ç¹¼çºŒ\nåœ¨å½¼æ­¤çš„ä¸–ç•Œè£¡ç™¼å…‰ç™¼ç†±ï¼\né€™ä¸€å¹´ä¹Ÿè«‹å¤šå¤šæŒ‡æ•™å›‰ï¼" 
        };

        const messages = [
            "æ°æ° 2025ï¼", "2026 æˆ‘å€‘éƒ½è¦å¥½å¥½çš„", "è¬è¬ 2025 æœ‰ä½ å‡ºç¾", 
            "ç¥ä½ æ–°çš„ä¸€å¹´è¬äº‹å¦‚æ„", "é¡˜ä½ æ‰€æœ‰çš„é¡˜æœ›åœ¨ 2026 å¯¦ç¾", "æ–°çš„ä¸€å¹´ä¹Ÿè¦å°è‡ªå·±å¥½ä¸€é»", 
            "ä½ æ˜¯ 2026 æœ€ç‰¹åˆ¥çš„å­˜åœ¨", "é¡˜æˆ‘å€‘çš„å‹èª¼ $f(x)$ æ†ä¹…ä¸è®Š", "ä»Šå¤©çš„ä½ æ¯”å»å¹´æ›´è¿·äºº", 
            "ä¸ç®¡å“ªä¸€å¹´æˆ‘éƒ½åœ¨", "2026 ä¹Ÿè¦å…ƒæ°£æ»¿æ»¿", "é¡˜ä½ æ¯å¤©éƒ½æœ‰å¥½å¤¢", 
            "æ–°çš„ä¸€å¹´ï¼Œä½ æ˜¯æœ€é–ƒè€€çš„æ˜Ÿ", "ä¸è¦å¿˜è¨˜ä¿æŒå¾®ç¬‘å–”", "é¡˜ä½ è¢« 2026 æº«æŸ”ä»¥å¾…", 
            "Happy New Year!", "è¦æŠŠå¿ƒæƒ…èª¿æ•´åˆ°å¿«æ¨‚é »é“", "æœªä¾†çš„è·¯æˆ‘å€‘ç¹¼çºŒä¸€èµ·èµ°", 
            "è·¨å¹´å¿«æ¨‚ï¼Œæˆ‘çš„å¥½æ­æª”", "æ–°çš„ä¸€å¹´ï¼Œä½ æ˜¯æœ€æ£’çš„"
        ];
        // ==========================================

        const btn = document.getElementById('giftButton');
        const finalBox = document.getElementById('finalMessage');
        const finalTextEl = document.getElementById('finalText');
        let positions = [];
        let currentZIndex = 100;

        // ç”¢ç”ŸèƒŒæ™¯æ˜Ÿæ˜Ÿ
        for (let i = 0; i < 50; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.width = star.style.height = Math.random() * 3 + 'px';
            star.style.left = Math.random() * 100 + 'vw';
            star.style.top = Math.random() * 100 + 'vh';
            star.style.animationDelay = Math.random() * 2 + 's';
            document.body.appendChild(star);
        }

        function initGrid() {
            const cols = 6; 
            const rows = 7; 
            const cellW = window.innerWidth / cols;
            const cellH = window.innerHeight / rows;

            for (let i = 0; i < cols; i++) {
                for (let j = 0; j < rows; j++) {
                    positions.push({
                        x: i * cellW + Math.random() * (cellW - 150),
                        y: j * cellH + Math.random() * (cellH - 50)
                    });
                }
            }
            positions.sort(() => Math.random() - 0.5);
        }

        function typeWriter(element, text, i = 0, callback) {
            if (i < text.length) {
                element.innerHTML += text.charAt(i) === '\n' ? '<br>' : text.charAt(i);
                setTimeout(() => typeWriter(element, text, i + 1, callback), CONFIG.typeSpeed);
            } else if (callback) {
                callback();
            }
        }

        btn.addEventListener('click', () => {
            btn.style.display = 'none';
            initGrid();
            
            let count = 0;
            const interval = setInterval(() => {
                if (count >= CONFIG.totalMessages || count >= positions.length) {
                    clearInterval(interval);
                    setTimeout(showFinalSurprise, 800);
                    return;
                }
                createPopUp(positions[count]);
                count++;
            }, CONFIG.speedMs);
        });

        function createPopUp(pos) {
            const div = document.createElement('div');
            div.className = 'message';
            const text = messages[Math.floor(Math.random() * messages.length)];
            const rotate = (Math.random() - 0.5) * 30; 
            currentZIndex++; 
            
            div.style.left = pos.x + 'px';
            div.style.top = pos.y + 'px';
            div.style.zIndex = currentZIndex;
            div.style.setProperty('--r', rotate + 'deg');
            
            document.body.appendChild(div);
            setTimeout(() => div.classList.add('show'), 10);
            typeWriter(div, text);
        }

        function showFinalSurprise() {
            finalBox.classList.add('active');
            typeWriter(finalTextEl, CONFIG.finalText);
        }
    </script>
</body>
</html>
